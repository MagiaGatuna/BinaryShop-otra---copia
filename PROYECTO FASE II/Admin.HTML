<!DOCTYPE html>
<?xml version="1.0" encoding="iso-8859-1"?>

<html>
    
    <head>
        <title>Bynary Shop</title>
        <link rel="shortcut icon" href="favicon.ico">

        <style>
        
        .box01{

            border: 5px solid red;
            background: white;
            color: black;
            display: flex;
            align-items: flex-end;
          }
          
        .box02{
            width: 500px;
            height: 350px;
          }
          
        .box03{
            width: 100%;
            height: 350px;
          }
             
        .box04{

            border: 5px solid red;
            background: white;
            color: black;
            display: flex;
            align-items: flex-end;
        }

        
        .box05{
            width: 30px;
            height: 40px;
          }
          
        .box06{
            width: 100%;
            height: 40px;
          }
                  

        </style>
    </head>

    <body id=body>

           
        <div id="perfiles"></div>
        <div id="galeria"></div>

         <script>
            var indice=-1;
            var carrito = {};
            var carritoString = "";


            var reader = new XMLHttpRequest() || new ActiveXObject('MSXML2.XMLHTTP');

            function loadFile() {
                reader.open('get', 'archivotxt.ini', true); 
                reader.onreadystatechange = displayContents;
                //reader.send(null);
            }

            function displayContents() {
                if(reader.readyState==4) {
                    console.log(reader.responseText);
                    //var el = document.getElementById('contenido-archivo');
                    //el.innerHTML = reader.responseText;
                }
            }


            function leerArchivos(){

                loadFile();
                displayContents();
            }

    
            
            var Perfiles = [
            {
                src: 'fotos/images.png',
                alt: 'Gatitos, no se puede decir más',
                nickname: 'nickname 1',
                rol: 'vendedor',
                numero: '1'
            },
            {
                src: 'fotos/images.jfif',
                alt: 'Gatitos, no se puede decir más',
                nickname: 'nickname 2',
                rol: 'comprador',
                numero: '2'
            },

            ];

            var imagenes = [
            {
                src: 'imagenes/bs.png',
                alt: 'Gatitos, no se puede decir más',
                nombre: 'Artíulo 1',
                precio: 52,
                descripcion: 'descripcion1',
                cantidad: '10',
                numero: '1'
            },
            {
                src: 'imagenes/bs.png',
                alt: 'Gatitos, no se puede decir más',
                nombre: 'Articulo 2',
                precio: 82,
                descripcion: 'descripcion2',
                cantidad: '50',
                numero: '2'
            },
            {
                src: 'imagenes/bs.png',
                alt: 'Gatitos, no se puede decir más',
                nombre: 'Articulo 3',
                precio: 99,
                descripcion: 'descripcion3',
                cantidad: '100',
                numero: '3'
            },
            ];


            window.onload = function() {
               
                renderizarGaleria(imagenes);
                renderizarPerfiles(Perfiles);
            };

            function CantidadSuma(cantidadNumero, numeroProducto){
                var cant = document.getElementById(cantidadNumero).value;
                var cant2 = parseInt(cant) + 1;
                var resta =parseInt(numeroProducto)-1
                var cantInventario =parseInt(imagenes[resta].cantidad);
                
                if(cant2 <= cantInventario) document.getElementById(cantidadNumero).value = cant2;
            }

            function CantidadResta(cantidadNumero){
                var cant = document.getElementById(cantidadNumero).value;
                var cant2 = parseInt(cant) -1; 
               
                if(cant2 >= 0) document.getElementById(cantidadNumero).value = cant2;
            }


            function EliminarProducto(cantidadNumero, numeroProducto){
                var resta =parseInt(numeroProducto)-1
                delete imagenes[resta];

                renderizarGaleria(imagenes)
            }

            function EliminarPerfil(cantidadNumero, numeroPerfil){
                var resta =parseInt(numeroPerfil)-1
                delete Perfiles[resta];

                renderizarPerfiles(Perfiles)
            }


        function renderizarGaleria(imagenes) {
            let html = '';
            
            imagenes.forEach(function(imagen){
                //var mumeroCantidad = "Cantidad"+ ${imagen.numero};
                html += `
                <div class="box01">
                    <div class="box02">
                        <img src="${imagen.src}" alt="${imagen.alt}" width="200px" />
                        <h3>${imagen.nombre}</h3>
                        <p>Precio: ${imagen.precio} Bs.</p>
                    </div>

                    <div class="box03">
                        <p>Descripcion: ${imagen.descripcion}</p>
                        <br> <input class="inputs"  name="cant" value = 0 id= "cantidad${imagen.numero}">
                        <br><input  class="boton" type="button" value="Eliminar producto" name="eliminarProducto" onclick = EliminarProducto("cantidad${imagen.numero}","${imagen.numero}")>
                    </div>
                    
                </div>
                `;
            });
            
            document.getElementById("galeria").innerHTML = html;
        }

        function renderizarPerfiles(Perfiles) {
            let html = '';
            
            Perfiles.forEach(function(perfil){
                //var mumeroCantidad = "Cantidad"+ ${imagen.numero};
                html += `
                <div class="box01">
                    <div class="box02">
                        <img src="${perfil.src}" alt="${perfil.alt}" width="200px" />
                    </div>

                    <div class="box03">
                        <p>Nickname: ${perfil.nickname}</p>
                        <p>Rol: ${perfil.rol}</p>
                        <br><input  class="boton" type="button" value="Eliminar perfil" name="eliminarPerfil" onclick = EliminarPerfil("cantidad${perfil.numero}","${perfil.numero}")>
                
                    </div>
                    
                </div>
                `;
            });
            
            document.getElementById("perfiles").innerHTML = html;
        }


            
     </script>    

    </body>

</html>
